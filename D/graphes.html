 <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
    <html xmlns="http://www.w3.org/1999/xhtml">
    <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title> Statistiques de Wom </title>
    <link rel="stylesheet" type="text/css" href="../css/style.css" />
    <script src="../js/jquery.js"></script>
    <script src="https://code.highcharts.com/highcharts.js"></script>
    <script src="https://code.highcharts.com/modules/exporting.js"></script>
    <script type="text/javascript">
        $(document).ready ( function() {
            $('#container1').highcharts({
                chart: {
                        type: 'column'
                        },
                title: {
                    text: "Intégration par département",
                    x: -20 //center
                        },
                subtitle: {
                    text: 'Source: Mérimée, Wikipédia, OpenStreetMap',
                    x: -20
                        },
                xAxis: {
                    categories: ['01','02','03','04','05','06','07','08','09','10','11','12','13','14','15','16','17','18','19','21','22','23','24','25','26','27','28','29','2A','2B','30','31','32','33','34','35','36','37','38','39','40','41','42','43','44','45','46','47','48','49','50','51','52','53','54','55','56','57','58','59','60','61','62','63','64','65','66','67','68','69','70','71','72','73','74','75','76','77','78','79','80','81','82','83','84','85','86','87','88','89','90','91','92','93','94','95','971','972','973','974','975'],
                 crosshair: true,
                 title: {
                        text: 'Départements par code'
                        }
                        },
                yAxis: {
                    title: { text: 'Pourcentage de monuments historiques intégrés dans ... '},
                    min:0,
                    max: 100,
                        },
                tooltip: {
                    headerFormat: '<span style="font-size:10px">{point.key}</span><table>',
                    pointFormat: '<tr><td style="color:{series.color};padding:0">{series.name}: </td>' +
                    '<td style="padding:0"><b>{point.y:.1f} %</b></td></tr>',
                    footerFormat: '</table>',
                    shared: true,
                    useHTML: true
                        },
                plotOptions: {
                    column: {
                        pointPadding: 0.1,
                        borderWidth: 0
                            }
                        },

                series: [{
                    name: 'Osm',
                    data: [99.2,90.07,100.0,82.76,82.42,79.22,78.69,90.62,76.05,82.56,80.13,78.85,78.15,94.21,94.99,93.12,80.21,80.6,80.64,56.5,54.15,100.0,59.64,88.68,73.72,61.05,100.0,56.88,99.15,98.92,62.95,68.49,63.81,89.15,78.21,59.0,100.0,75.49,94.67,94.99,100.0,58.43,96.15,100.0,98.86,69.43,54.67,78.65,62.89,60.42,59.54,84.92,64.24,55.6,52.3,56.04,57.38,61.59,65.26,54.95,61.9,56.94,52.35,78.07,61.03,99.43,71.19,51.96,51.28,77.71,86.3,100.0,61.65,87.56,83.33,31.04,51.36,58.5,61.96,80.06,58.93,55.9,51.43,58.95,54.86,52.69,52.6,59.62,62.46,53.86,79.63,86.5,92.45,59.46,54.7,99.32,63.46,52.48,71.08,98.27,83.33]},{
                    name: 'Wp',
                    data: [97.08,86.81,77.86,92.12,23.03,84.16,86.25,75.0,14.71,92.92,72.59,81.98,43.69,81.08,33.83,51.61,29.98,31.99,22.28,36.33,25.0,25.0,41.48,67.31,41.24,31.07,56.4,24.12,16.1,36.02,47.83,30.46,28.89,48.13,40.77,64.35,43.4,25.66,33.23,20.04,65.73,28.18,17.46,22.84,96.59,23.45,67.43,81.51,78.87,86.57,46.54,59.8,17.65,67.2,22.49,28.48,66.16,35.02,38.97,29.44,46.67,46.65,19.06,25.83,27.21,28.41,78.15,99.88,99.63,33.53,90.14,87.29,59.47,38.76,83.91,41.35,25.61,31.33,38.65,22.66,66.93,43.06,17.14,30.25,44.36,37.9,18.67,46.98,24.32,79.88,35.19,38.32,57.86,58.11,57.26,57.77,73.08,34.65,84.34,97.69,0.0 ]}
                ]
                })
            });
    </script><script type="text/javascript">
    $(document).ready ( function() {
         Highcharts.chart('container2', {
            chart: { zoomType: 'xy' },
            title: { text: 'Intégration globale et contributions par jour' },
            subtitle: { text: 'Source: Mérimée, OpenStreetMap, Wikipédia' },
            xAxis: [{
                categories: ['09-03-2018','10-03-2018','11-03-2018','12-03-2018','13-03-2018','14-03-2018','15-03-2018','16-03-2018','17-03-2018','18-03-2018','19-03-2018','20-03-2018','21-03-2018','22-03-2018','23-03-2018','24-03-2018','25-03-2018','26-03-2018','27-03-2018','28-03-2018','29-03-2018','30-03-2018','31-03-2018','01-04-2018','02-04-2018','03-04-2018','04-04-2018','05-04-2018','06-04-2018','07-04-2018'],
                crosshair: true
                }],
            yAxis: [{ // Primary yAxis: graphe % d'intégration max
                labels: {
                    format: '{value} %',
                    style: { color: Highcharts.getOptions().colors[1] },
                        },
                title: {
                    text: '% intégration globale des ref:mhs ',
                    style: { color: Highcharts.getOptions().colors[1] }
                        },
            },{ // Secondary yAxis: Graphe par jour:
                gridLineWidth: 0,
                title: {
                    text: 'Nouveaux monuments ce jour',
                    style: { color: Highcharts.getOptions().colors[1] }
                        },
                labels: {
                    format: '{value} Mh',
                style: { color: Highcharts.getOptions().colors[1] }
                        },
                opposite: true,
            }],
            tooltip: { shared: true },
            legend: {
                layout: 'vertical',
                align: 'left',
                x: 80,
                verticalAlign: 'top',
                y: 155,
                floating: true,
                backgroundColor: (Highcharts.theme && Highcharts.theme.legendBackgroundColor) || '#FFFFFF'
                    },
            series: [{
                name: "% Ref:mhs dans Osm",
                type: 'spline',
                style: { color: Highcharts.getOptions().colors[0] },
                yAxis: 0,
                data: [68.41,68.47,68.51,68.55,68.67,68.7,68.75,68.81,68.89,68.91,69.01,69.05,69.07,69.12,69.18,69.28,69.36,69.46,69.55,69.63,69.78,69.78,69.81,69.83,69.83,69.89,69.97,70.03,70.08,70.13],
                tooltip: { valueSuffix: ' %' },
                    },{
                name: '% Ref:mhs dans Wp',
                type: 'spline',
                style: { color: Highcharts.getOptions().colors[6] },
                yAxis: 0,
                data: [48.43,48.43,48.43,48.44,48.44,48.44,48.45,48.45,48.47,48.47,48.48,48.48,48.48,48.49,48.49,48.5,48.5,48.5,48.51,48.52,48.52,48.52,48.52,48.52,48.53,48.53,48.54,48.54,48.55,48.55],
                tooltip: { valueSuffix: ' %' },
                },{
                name: 'Contrib Osm du jour ',
                type: 'spline',
                yAxis: 1,
                data: [20,22,18,50,14,24,25,39,11,45,17,9,20,26,48,35,44,38,38,64,0,15,9,0,28,34,28,21,22],
                tooltip: { valueSuffix: ' mh' }
                    },{
                name: 'Contrib Wp du jour',
                type: 'spline',
                yAxis: 1,
                data: [0,1,4,1,1,4,2,6,0,5,1,0,1,5,2,1,2,1,4,1,0,1,3,2,1,4,0,4,0],
                tooltip: { valueSuffix: ' mh' }
                    },
                ]
         });
    });
    </script>
    </head>
    <body>
    <div id="container1" style="min-width: 310px; height: 400px; margin: 0 auto"></div>
    <br>
    <div id="container2" style="min-width: 310px; height: 400px; margin: 0 auto"></div>
    <div class='message'>
    <p>
    <b>Attention:</b> Le nombre total de monuments historiques présents dans la base ouverte Mérimée est de 44662. Cette valeur représente le 100% du graphe ci dessus.
    </p>
    </div>
    </body>
    </html>
    