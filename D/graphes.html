 <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
    <html xmlns="http://www.w3.org/1999/xhtml">
    <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title> Statistiques de Wom </title>
    <link rel="stylesheet" type="text/css" href="../css/style.css" />
    <script src="../js/jquery.js"></script>
    <script src="https://code.highcharts.com/highcharts.js"></script>
    <script src="https://code.highcharts.com/modules/exporting.js"></script>
    <script type="text/javascript">
        $(document).ready ( function() {
            $('#container1').highcharts({
                chart: {
                        type: 'column'
                        },
                title: {
                    text: "Intégration par département",
                    x: -20 //center
                        },
                subtitle: {
                    text: 'Source: Mérimée, Wikipédia, OpenStreetMap',
                    x: -20
                        },
                xAxis: {
                    categories: ['01','02','03','04','05','06','07','08','09','10','11','12','13','14','15','16','17','18','19','21','22','23','24','25','26','27','28','29','2A','2B','30','31','32','33','34','35','36','37','38','39','40','41','42','43','44','45','46','47','48','49','50','51','52','53','54','55','56','57','58','59','60','61','62','63','64','65','66','67','68','69','70','71','72','73','74','75','76','77','78','79','80','81','82','83','84','85','86','87','88','89','90','91','92','93','94','95','971','972','973','974','975'],
                 crosshair: true,
                 title: {
                        text: 'Départements par code'
                        }
                        },
                yAxis: {
                    title: { text: 'Pourcentage de monuments historiques intégrés dans ... '},
                    min:0,
                    max: 100,
                        },
                tooltip: {
                    headerFormat: '<span style="font-size:10px">{point.key}</span><table>',
                    pointFormat: '<tr><td style="color:{series.color};padding:0">{series.name}: </td>' +
                    '<td style="padding:0"><b>{point.y:.1f} %</b></td></tr>',
                    footerFormat: '</table>',
                    shared: true,
                    useHTML: true
                        },
                plotOptions: {
                    column: {
                        pointPadding: 0.1,
                        borderWidth: 0
                            }
                        },

                series: [{
                    name: 'Osm',
                    data: [93.63,61.4,100.0,50.74,53.94,67.01,58.08,91.02,72.27,82.56,53.77,66.06,60.62,94.11,65.16,62.37,75.12,60.71,52.52,51.28,52.44,100.0,58.3,88.25,66.06,60.39,56.13,56.88,100.0,99.46,55.77,67.96,54.6,55.23,60.81,57.22,100.0,72.6,94.67,74.95,100.0,58.2,96.45,100.0,99.15,56.78,54.67,53.65,55.67,60.28,58.7,84.17,62.59,54.8,51.62,56.04,50.98,61.11,65.26,54.95,56.83,56.94,51.17,74.41,50.74,99.43,58.28,51.73,50.92,65.5,86.03,100.0,61.89,70.33,74.14,26.13,51.07,39.67,61.76,80.06,58.4,52.08,51.43,29.94,30.54,50.27,30.88,41.48,60.96,53.66,79.63,86.13,93.08,59.46,50.43,99.66,31.73,27.72,71.08,35.84,83.33]},{
                    name: 'Wp',
                    data: [97.08,86.64,77.28,92.12,20.61,84.16,86.25,75.0,13.45,92.37,72.38,81.46,42.46,69.8,33.58,51.61,30.09,31.74,22.28,36.09,24.63,24.3,37.11,67.31,37.59,29.98,56.4,24.12,16.1,35.48,47.83,29.58,23.17,47.14,40.25,64.17,43.4,25.2,32.6,17.65,65.26,28.18,17.16,22.84,96.59,23.22,67.43,81.51,78.87,86.99,45.07,59.05,16.71,67.2,22.83,28.48,62.15,34.78,38.07,26.9,45.87,45.22,18.48,24.76,26.47,27.27,77.81,99.88,99.63,32.95,90.14,86.45,58.98,37.32,83.91,41.19,24.89,29.17,38.24,21.75,66.13,42.01,17.5,30.25,43.97,36.29,18.49,47.25,24.02,80.08,33.33,36.13,57.23,56.76,56.41,56.76,59.62,34.65,84.34,97.11,0.0 ]}
                ]
                })
            });
    </script><script type="text/javascript">
    $(document).ready ( function() {
         Highcharts.chart('container2', {
            chart: { zoomType: 'xy' },
            title: { text: 'Intégration globale et contributions par jour' },
            subtitle: { text: 'Source: Mérimée, OpenStreetMap, Wikipédia' },
            xAxis: [{
                categories: ['08-09-2017','09-09-2017','10-09-2017','11-09-2017','12-09-2017','13-09-2017','14-09-2017','15-09-2017','16-09-2017','17-09-2017','18-09-2017','19-09-2017','20-09-2017','21-09-2017','22-09-2017','23-09-2017','24-09-2017','25-09-2017','26-09-2017','27-09-2017','28-09-2017','29-09-2017','30-09-2017','01-10-2017','02-10-2017','03-10-2017','04-10-2017','05-10-2017','06-10-2017','07-10-2017'],
                crosshair: true
                }],
            yAxis: [{ // Primary yAxis: graphe % d'intégration max
                labels: {
                    format: '{value} %',
                    style: { color: Highcharts.getOptions().colors[1] },
                        },
                title: {
                    text: '% intégration globale des ref:mhs ',
                    style: { color: Highcharts.getOptions().colors[1] }
                        },
            },{ // Secondary yAxis: Graphe par jour:
                gridLineWidth: 0,
                title: {
                    text: 'Nouveaux monuments ce jour',
                    style: { color: Highcharts.getOptions().colors[1] }
                        },
                labels: {
                    format: '{value} Mh',
                style: { color: Highcharts.getOptions().colors[1] }
                        },
                opposite: true,
            }],
            tooltip: { shared: true },
            legend: {
                layout: 'vertical',
                align: 'left',
                x: 80,
                verticalAlign: 'top',
                y: 155,
                floating: true,
                backgroundColor: (Highcharts.theme && Highcharts.theme.legendBackgroundColor) || '#FFFFFF'
                    },
            series: [{
                name: "% Ref:mhs dans Osm",
                type: 'spline',
                style: { color: Highcharts.getOptions().colors[0] },
                yAxis: 0,
                data: [59.73,59.74,59.9,60.01,60.48,60.53,60.77,60.84,60.94,61.08,61.11,61.11,61.11,61.21,61.23,61.41,61.6,61.75,61.81,61.95,62.23,62.29,62.29,62.32,62.32,62.32,62.38,62.4,62.46,62.46],
                tooltip: { valueSuffix: ' %' },
                    },{
                name: '% Ref:mhs dans Wp',
                type: 'spline',
                style: { color: Highcharts.getOptions().colors[6] },
                yAxis: 0,
                data: [47.32,47.33,47.35,47.36,47.37,47.37,47.38,47.39,47.4,47.4,47.41,47.43,47.43,47.44,47.45,47.46,47.47,47.48,47.48,47.5,47.52,47.53,47.55,47.56,47.56,47.57,47.57,47.57,47.58,47.58],
                tooltip: { valueSuffix: ' %' },
                },{
                name: 'Contrib Osm du jour ',
                type: 'spline',
                yAxis: 1,
                data: [1,75,49,202,24,105,30,44,65,11,1,0,47,9,81,81,70,26,64,122,28,0,13,0,1,25,12,25,0],
                tooltip: { valueSuffix: ' mh' }
                    },{
                name: 'Contrib Wp du jour',
                type: 'spline',
                yAxis: 1,
                data: [4,7,3,5,2,5,3,3,1,4,9,0,4,5,4,5,5,0,10,9,5,6,7,3,4,2,0,3,0],
                tooltip: { valueSuffix: ' mh' }
                    },
                ]
         });
    });
    </script>
    </head>
    <body>
    <div id="container1" style="min-width: 310px; height: 400px; margin: 0 auto"></div>
    <br>
    <div id="container2" style="min-width: 310px; height: 400px; margin: 0 auto"></div>
    <div class='message'>
    <p>
    <b>Attention:</b> Le nombre total de monuments historiques présents dans la base ouverte Mérimée est de 44662. Cette valeur représente le 100% du graphe ci dessus.
    </p>
    </div>
    </body>
    </html>
    