 <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
    <html xmlns="http://www.w3.org/1999/xhtml">
    <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title> Statistiques de Wom </title>
    <link rel="stylesheet" type="text/css" href="../css/style.css" />
    <script src="../js/jquery.js"></script>
    <script src="https://code.highcharts.com/highcharts.js"></script>
    <script src="https://code.highcharts.com/modules/exporting.js"></script>
    <script type="text/javascript">
        $(document).ready ( function() {
            $('#container1').highcharts({
                chart: {
                        type: 'column'
                        },
                title: {
                    text: "Intégration par département",
                    x: -20 //center
                        },
                subtitle: {
                    text: 'Source: Mérimée, Wikipédia, OpenStreetMap',
                    x: -20
                        },
                xAxis: {
                    categories: ['01','02','03','04','05','06','07','08','09','10','11','12','13','14','15','16','17','18','19','21','22','23','24','25','26','27','28','29','2A','2B','30','31','32','33','34','35','36','37','38','39','40','41','42','43','44','45','46','47','48','49','50','51','52','53','54','55','56','57','58','59','60','61','62','63','64','65','66','67','68','69','70','71','72','73','74','75','76','77','78','79','80','81','82','83','84','85','86','87','88','89','90','91','92','93','94','95','971','972','973','974','975'],
                 crosshair: true,
                 title: {
                        text: 'Départements par code'
                        }
                        },
                yAxis: {
                    title: { text: 'Pourcentage de monuments historiques intégrés dans ... '},
                    min:0,
                    max: 100,
                        },
                tooltip: {
                    headerFormat: '<span style="font-size:10px">{point.key}</span><table>',
                    pointFormat: '<tr><td style="color:{series.color};padding:0">{series.name}: </td>' +
                    '<td style="padding:0"><b>{point.y:.1f} %</b></td></tr>',
                    footerFormat: '</table>',
                    shared: true,
                    useHTML: true
                        },
                plotOptions: {
                    column: {
                        pointPadding: 0.1,
                        borderWidth: 0
                            }
                        },

                series: [{
                    name: 'Osm',
                    data: [98.17,89.37,100.0,81.55,80.95,78.87,76.41,89.23,75.62,82.16,80.08,83.72,78.0,93.92,95.99,92.92,79.86,84.17,80.21,80.86,87.06,100.0,75.92,88.37,73.65,60.52,100.0,55.8,96.77,92.89,61.88,77.02,62.88,95.48,75.85,57.74,98.63,75.4,93.79,94.17,98.17,58.26,95.03,99.18,98.33,67.79,54.05,78.35,62.56,60.25,58.8,83.87,63.64,55.38,51.68,55.18,56.85,61.0,64.09,54.39,60.72,57.42,51.95,77.25,59.71,97.22,69.58,66.13,57.25,76.82,85.37,97.39,60.48,85.51,79.03,31.34,50.42,58.02,61.59,78.81,56.09,55.03,50.88,58.41,54.34,52.14,52.04,58.81,62.09,52.48,83.33,85.56,91.3,57.89,55.56,100.0,59.46,83.64,68.24,95.11,76.92]},{
                    name: 'Wp',
                    data: [95.56,79.39,76.64,76.7,23.81,71.39,70.1,68.46,25.62,78.38,66.6,74.68,38.09,59.79,60.9,48.93,26.62,31.16,24.01,27.23,24.43,76.41,28.65,21.99,35.38,16.05,52.94,15.41,23.39,35.03,32.97,12.81,20.55,48.65,30.61,31.65,57.19,18.01,28.57,17.06,64.68,18.12,23.68,23.06,94.99,21.62,48.42,67.27,55.9,55.51,23.81,58.06,13.29,39.84,15.15,17.99,32.44,32.78,33.23,14.54,31.3,28.23,10.27,31.62,18.47,36.67,62.46,48.63,37.68,30.65,80.76,73.25,32.14,33.64,70.43,21.04,14.51,19.01,29.07,31.34,39.59,31.88,13.78,26.3,22.16,26.74,18.29,31.44,13.43,46.14,16.67,41.16,62.73,31.58,37.61,56.9,54.95,30.0,55.29,92.93,7.69 ]}
                ]
                })
            });
    </script><script type="text/javascript">
    $(document).ready ( function() {
         Highcharts.chart('container2', {
            chart: { zoomType: 'xy' },
            title: { text: 'Intégration globale et contributions par jour' },
            subtitle: { text: 'Source: Mérimée, OpenStreetMap, Wikipédia' },
            xAxis: [{
                categories: ['15-06-2018','16-06-2018','17-06-2018','18-06-2018','19-06-2018','21-06-2018','22-06-2018','23-06-2018','24-06-2018','25-06-2018','26-06-2018','27-06-2018','28-06-2018','30-06-2018','01-07-2018','02-07-2018','03-07-2018','04-07-2018','05-07-2018','06-07-2018','07-07-2018','08-07-2018','09-07-2018','10-07-2018','11-07-2018','12-07-2018','13-07-2018','14-07-2018','15-07-2018','16-07-2018'],
                crosshair: true
                }],
            yAxis: [{ // Primary yAxis: graphe % d'intégration max
                labels: {
                    format: '{value} %',
                    style: { color: Highcharts.getOptions().colors[1] },
                        },
                title: {
                    text: '% intégration globale des ref:mhs ',
                    style: { color: Highcharts.getOptions().colors[1] }
                        },
            },{ // Secondary yAxis: Graphe par jour:
                gridLineWidth: 0,
                title: {
                    text: 'Nouveaux monuments ce jour',
                    style: { color: Highcharts.getOptions().colors[1] }
                        },
                labels: {
                    format: '{value} Mh',
                style: { color: Highcharts.getOptions().colors[1] }
                        },
                opposite: true,
            }],
            tooltip: { shared: true },
            legend: {
                layout: 'vertical',
                align: 'left',
                x: 80,
                verticalAlign: 'top',
                y: 155,
                floating: true,
                backgroundColor: (Highcharts.theme && Highcharts.theme.legendBackgroundColor) || '#FFFFFF'
                    },
            series: [{
                name: "% Ref:mhs dans Osm",
                type: 'spline',
                style: { color: Highcharts.getOptions().colors[0] },
                yAxis: 0,
                data: [71.5,71.5,71.5,71.5,71.5,71.5,71.5,71.5,71.5,71.5,71.5,71.51,71.51,71.51,71.51,71.48,71.48,71.48,71.48,71.54,71.61,71.61,71.61,71.61,71.61,71.61,71.61,71.61,71.61,71.61],
                tooltip: { valueSuffix: ' %' },
                    },{
                name: '% Ref:mhs dans Wp',
                type: 'spline',
                style: { color: Highcharts.getOptions().colors[6] },
                yAxis: 0,
                data: [48.88,48.89,48.91,48.92,48.93,48.95,48.97,48.98,49.0,49.01,49.01,49.01,49.01,49.02,49.03,49.04,49.05,49.05,49.04,41.35,41.19,40.98,40.75,37.22,37.22,37.22,37.22,37.22,37.22,37.22],
                tooltip: { valueSuffix: ' %' },
                },{
                name: 'Contrib Osm du jour ',
                type: 'spline',
                yAxis: 1,
                data: [0,0,0,-1,0,0,1,0,-1,0,3,0,1,0,0,0,-1,-2,-9709,-188,-265,-179,-5108,0,0,0,0,0,0],
                tooltip: { valueSuffix: ' mh' }
                    },{
                name: 'Contrib Wp du jour',
                type: 'spline',
                yAxis: 1,
                data: [2,6,2,4,3,0,2,5,5,2,0,1,4,2,2,3,2,-80,-16360,-225,-372,-215,-5036,0,0,0,0,0,0],
                tooltip: { valueSuffix: ' mh' }
                    },
                ]
         });
    });
    </script>
    </head>
    <body>
    <div id="container1" style="min-width: 310px; height: 400px; margin: 0 auto"></div>
    <br>
    <div id="container2" style="min-width: 310px; height: 400px; margin: 0 auto"></div>
    <div class='message'>
    <p>
    <b>Attention:</b> Le nombre total de monuments historiques présents dans la base ouverte Mérimée est de 45278. Cette valeur représente le 100% du graphe ci dessus.
    </p>
    </div>
    </body>
    </html>
    