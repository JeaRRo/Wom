 <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
    <html xmlns="http://www.w3.org/1999/xhtml">
    <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title> Statistiques de Wom </title>
    <link rel="stylesheet" type="text/css" href="../css/style.css" />
    <script src="../js/jquery.js"></script>
    <script src="https://code.highcharts.com/highcharts.js"></script>
    <script src="https://code.highcharts.com/modules/exporting.js"></script>
    <script type="text/javascript">
        $(document).ready ( function() {
            $('#container1').highcharts({
                chart: {
                        type: 'column'
                        },
                title: {
                    text: "Intégration par département",
                    x: -20 //center
                        },
                subtitle: {
                    text: 'Source: Mérimée, Wikipédia, OpenStreetMap',
                    x: -20
                        },
                xAxis: {
                    categories: ['01','02','03','04','05','06','07','08','09','10','11','12','13','14','15','16','17','18','19','21','22','23','24','25','26','27','28','29','2A','2B','30','31','32','33','34','35','36','37','38','39','40','41','42','43','44','45','46','47','48','49','50','51','52','53','54','55','56','57','58','59','60','61','62','63','64','65','66','67','68','69','70','71','72','73','74','75','76','77','78','79','80','81','82','83','84','85','86','87','88','89','90','91','92','93','94','95','971','972','973','974','975'],
                 crosshair: true,
                 title: {
                        text: 'Départements par code'
                        }
                        },
                yAxis: {
                    title: { text: 'Pourcentage de monuments historiques intégrés dans ... '},
                    min:0,
                    max: 100,
                        },
                tooltip: {
                    headerFormat: '<span style="font-size:10px">{point.key}</span><table>',
                    pointFormat: '<tr><td style="color:{series.color};padding:0">{series.name}: </td>' +
                    '<td style="padding:0"><b>{point.y:.1f} %</b></td></tr>',
                    footerFormat: '</table>',
                    shared: true,
                    useHTML: true
                        },
                plotOptions: {
                    column: {
                        pointPadding: 0.1,
                        borderWidth: 0
                            }
                        },

                series: [{
                    name: 'Osm',
                    data: [92.57,53.26,100.0,50.74,53.33,37.66,35.4,27.73,60.08,36.24,52.3,66.06,26.46,26.68,63.91,62.37,34.72,57.68,28.12,50.06,51.71,92.61,49.33,62.61,64.6,32.17,29.97,26.74,51.69,37.1,28.17,57.57,54.6,37.57,55.89,31.37,91.32,32.37,94.98,50.76,70.89,27.48,78.4,95.68,83.52,32.64,28.7,51.3,28.87,27.55,58.7,26.13,27.29,54.0,29.47,53.25,27.44,26.09,27.79,52.03,26.98,27.75,30.21,62.5,33.33,52.27,31.46,29.79,27.84,59.69,41.64,88.96,61.89,66.99,30.46,25.8,29.76,32.0,58.69,25.38,33.07,52.08,50.71,26.23,30.54,26.61,27.47,29.95,53.15,27.85,57.41,52.19,79.25,59.46,50.43,96.62,31.73,26.73,27.71,31.21,83.33]},{
                    name: 'Wp',
                    data: [97.08,86.64,75.92,91.63,23.64,83.9,85.91,75.39,13.03,92.37,73.64,81.2,41.08,40.23,33.58,51.61,30.09,30.73,22.28,36.45,19.27,22.54,33.07,67.31,37.23,28.88,56.13,23.33,14.41,35.48,46.69,30.11,22.22,46.75,40.42,61.32,42.71,23.93,31.66,17.86,63.38,27.25,15.38,22.02,97.16,22.07,67.43,81.51,78.87,86.57,41.72,58.29,13.41,65.2,22.83,28.48,60.2,34.3,37.76,26.65,45.87,43.06,17.74,22.88,24.02,25.57,69.54,100.0,99.82,32.95,87.12,86.12,58.01,35.89,83.91,40.86,24.46,27.0,37.83,21.75,57.6,42.01,16.43,27.78,41.83,35.22,17.95,47.25,24.02,79.67,33.33,35.04,57.23,58.11,55.56,56.42,57.69,32.67,84.34,97.11,0.0 ]}
                ]
                })
            });
    </script><script type="text/javascript">
    $(document).ready ( function() {
         Highcharts.chart('container2', {
            chart: { zoomType: 'xy' },
            title: { text: 'Intégration globale et contributions par jour' },
            subtitle: { text: 'Source: Mérimée, OpenStreetMap, Wikipédia' },
            xAxis: [{
                categories: ['20-03-2017','21-03-2017','22-03-2017','23-03-2017','24-03-2017','25-03-2017','26-03-2017','27-03-2017','28-03-2017','29-03-2017','30-03-2017','31-03-2017','01-04-2017','02-04-2017','03-04-2017','04-04-2017','06-04-2017','07-04-2017','08-04-2017','09-04-2017','10-04-2017','11-04-2017','12-04-2017','13-04-2017','14-04-2017','15-04-2017','16-04-2017','17-04-2017','18-04-2017','19-04-2017'],
                crosshair: true
                }],
            yAxis: [{ // Primary yAxis: graphe % d'intégration max
                labels: {
                    format: '{value} %',
                    style: { color: Highcharts.getOptions().colors[1] },
                        },
                title: {
                    text: '% intégration globale des ref:mhs ',
                    style: { color: Highcharts.getOptions().colors[1] }
                        },
            },{ // Secondary yAxis: Graphe par jour:
                gridLineWidth: 0,
                title: {
                    text: 'Nouveaux monuments ce jour',
                    style: { color: Highcharts.getOptions().colors[1] }
                        },
                labels: {
                    format: '{value} Mh',
                style: { color: Highcharts.getOptions().colors[1] }
                        },
                opposite: true,
            }],
            tooltip: { shared: true },
            legend: {
                layout: 'vertical',
                align: 'left',
                x: 80,
                verticalAlign: 'top',
                y: 155,
                floating: true,
                backgroundColor: (Highcharts.theme && Highcharts.theme.legendBackgroundColor) || '#FFFFFF'
                    },
            series: [{
                name: "% Ref:mhs dans Osm",
                type: 'spline',
                style: { color: Highcharts.getOptions().colors[0] },
                yAxis: 0,
                data: [40.86,41.08,41.45,41.68,41.73,41.92,42.03,42.16,42.29,42.29,42.36,42.36,42.36,42.39,42.41,42.42,42.43,42.44,42.45,42.44,42.71,42.72,42.72,42.78,43.39,43.78,43.97,43.99,44.22,44.22],
                tooltip: { valueSuffix: ' %' },
                    },{
                name: '% Ref:mhs dans Wp',
                type: 'spline',
                style: { color: Highcharts.getOptions().colors[6] },
                yAxis: 0,
                data: [45.83,45.83,45.83,45.84,45.84,45.85,45.86,45.86,45.87,45.88,45.88,45.89,45.9,45.9,45.9,45.91,45.91,45.91,45.92,45.92,45.93,45.93,45.93,45.94,45.94,45.96,45.98,45.99,46.01,46.01],
                tooltip: { valueSuffix: ' %' },
                },{
                name: 'Contrib Osm du jour ',
                type: 'spline',
                yAxis: 1,
                data: [100,163,106,19,87,46,60,56,3,32,0,0,10,8,7,5,2,4,-1,118,4,2,25,271,178,85,10,100,-1],
                tooltip: { valueSuffix: ' mh' }
                    },{
                name: 'Contrib Wp du jour',
                type: 'spline',
                yAxis: 1,
                data: [1,1,3,2,3,4,2,4,3,3,3,4,2,4,2,4,0,1,2,4,6,-1,2,1,3,5,5,8,5],
                tooltip: { valueSuffix: ' mh' }
                    },
                ]
         });
    });
    </script>
    </head>
    <body>
    <div id="container1" style="min-width: 310px; height: 400px; margin: 0 auto"></div>
    <br>
    <div id="container2" style="min-width: 310px; height: 400px; margin: 0 auto"></div>
    <div class='message'>
    <p>
    <b>Attention:</b> Le nombre total de monuments historiques présents dans la base ouverte Mérimée est de 44662. Cette valeur représente le 100% du graphe ci dessus.
    </p>
    </div>
    </body>
    </html>
    